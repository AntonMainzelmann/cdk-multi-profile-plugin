"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.MultiProfilePlugin = void 0;
const toolkit_lib_1 = require("@aws-cdk/toolkit-lib");
const ini_file_credential_provider_source_1 = require("./ini-file-credential-provider-source");
class MultiProfilePlugin extends toolkit_lib_1.PluginHost {
    constructor(profiles, filename) {
        super();
        this.profiles = profiles;
        this.filename = filename;
        this.version = '1';
    }
    init(host) {
        if (process.env.IGNORE_CDK_MULTI_PROFILE_PLUGIN) {
            return;
        }
        host.registerCredentialProviderSource(new ini_file_credential_provider_source_1.IniFileCredentialProviderSource('cdk-multi-profile-plugin', this.profiles, this.filename));
    }
}
exports.MultiProfilePlugin = MultiProfilePlugin;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibXVsdGktcHJvZmlsZS1wbHVnaW4uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvbXVsdGktcHJvZmlsZS1wbHVnaW4udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsc0RBQWtEO0FBQ2xELCtGQUF3RjtBQUV4RixNQUFhLGtCQUFtQixTQUFRLHdCQUFVO0lBR2hELFlBQ21CLFFBQW1DLEVBQ25DLFFBQWdCO1FBRWpDLEtBQUssRUFBRSxDQUFDO1FBSFMsYUFBUSxHQUFSLFFBQVEsQ0FBMkI7UUFDbkMsYUFBUSxHQUFSLFFBQVEsQ0FBUTtRQUpuQixZQUFPLEdBQUcsR0FBRyxDQUFDO0lBTzlCLENBQUM7SUFFTSxJQUFJLENBQUMsSUFBZ0I7UUFDMUIsSUFBSSxPQUFPLENBQUMsR0FBRyxDQUFDLCtCQUErQixFQUFFLENBQUM7WUFDaEQsT0FBTztRQUNULENBQUM7UUFFRCxJQUFJLENBQUMsZ0NBQWdDLENBQ25DLElBQUkscUVBQStCLENBQ2pDLDBCQUEwQixFQUMxQixJQUFJLENBQUMsUUFBUSxFQUNiLElBQUksQ0FBQyxRQUFRLENBQ2QsQ0FDRixDQUFDO0lBQ0osQ0FBQztDQUNGO0FBdkJELGdEQXVCQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBsdWdpbkhvc3QgfSBmcm9tICdAYXdzLWNkay90b29sa2l0LWxpYic7XG5pbXBvcnQgeyBJbmlGaWxlQ3JlZGVudGlhbFByb3ZpZGVyU291cmNlIH0gZnJvbSAnLi9pbmktZmlsZS1jcmVkZW50aWFsLXByb3ZpZGVyLXNvdXJjZSc7XG5cbmV4cG9ydCBjbGFzcyBNdWx0aVByb2ZpbGVQbHVnaW4gZXh0ZW5kcyBQbHVnaW5Ib3N0IHtcbiAgcHVibGljIHJlYWRvbmx5IHZlcnNpb24gPSAnMSc7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSByZWFkb25seSBwcm9maWxlczogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSxcbiAgICBwcml2YXRlIHJlYWRvbmx5IGZpbGVuYW1lOiBzdHJpbmcsXG4gICkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICBwdWJsaWMgaW5pdChob3N0OiBQbHVnaW5Ib3N0KTogdm9pZCB7XG4gICAgaWYgKHByb2Nlc3MuZW52LklHTk9SRV9DREtfTVVMVElfUFJPRklMRV9QTFVHSU4pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBob3N0LnJlZ2lzdGVyQ3JlZGVudGlhbFByb3ZpZGVyU291cmNlKFxuICAgICAgbmV3IEluaUZpbGVDcmVkZW50aWFsUHJvdmlkZXJTb3VyY2UoXG4gICAgICAgICdjZGstbXVsdGktcHJvZmlsZS1wbHVnaW4nLFxuICAgICAgICB0aGlzLnByb2ZpbGVzLFxuICAgICAgICB0aGlzLmZpbGVuYW1lLFxuICAgICAgKSxcbiAgICApO1xuICB9XG59XG4iXX0=